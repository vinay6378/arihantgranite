{% extends 'base.html' %}
{% block title %}Home ‚Äì Arihant Granites{% endblock %}
{% block content %}

<!-- Hero Section with Spline 3D -->
<section class="relative h-screen bg-white overflow-hidden flex items-center justify-center">
  <!-- Spline 3D Scene Container -->
  <!-- Replace with your Spline scene URL from https://spline.design -->
  <iframe id="spline-container" src="" class="absolute inset-0 z-0 opacity-20 pointer-events-none" style="border: none;"></iframe>
  
  <!-- Floating Geometric Shapes -->
  <div class="absolute inset-0 overflow-hidden pointer-events-none">
    <div class="shape shape-1"></div>
    <div class="shape shape-2"></div>
    <div class="shape shape-3"></div>
    <div class="shape shape-4"></div>
  </div>
  
  <!-- Hero Content -->
  <div class="relative z-10 flex flex-col items-center justify-center text-center px-4 max-w-5xl mx-auto">
    <!-- Main Title with Animation -->
    <h1 class="text-6xl md:text-8xl font-black mb-6 text-gray-900 hero-title">
      <span class="inline-block animate-slide-up">Arihant</span>
      <span class="inline-block animate-slide-up delay-100">Granites</span>
    </h1>
    
    <!-- Subtitle -->
    <p class="text-xl md:text-2xl font-medium text-gray-600 mb-8 max-w-2xl animate-fade-in-up-delay">
      Quality at Your Feet
    </p>
    
    <!-- Address Section -->
    <div class="bg-white/80 backdrop-blur-sm rounded-2xl p-6 mb-8 shadow-xl border border-gray-100 animate-fade-in-up-delay-2 max-w-md mx-auto">
      <div class="flex items-center justify-center gap-3 mb-3">
        <svg class="w-6 h-6 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
        </svg>
        <h3 class="text-lg font-bold text-gray-900">Our Location</h3>
      </div>
      <p class="text-sm text-gray-600 leading-relaxed">
        Survey No.72, Thuvarankulam Village,<br>
        Melur Taluk, Sivaganga Rd,<br>
        Madurai, Tamil Nadu 625020
      </p>
      <a href="https://maps.google.com/?q=Survey+No.72+Thuvarankulam+Village+Melur+Taluk+Sivaganga+Rd+Madurai+Tamil+Nadu+625020" 
         target="_blank" 
         class="inline-flex items-center gap-2 mt-4 text-sm font-medium text-gray-900 hover:text-gray-700 transition-colors">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
        </svg>
        Get Directions
      </a>
    </div>
    
    <!-- CTA Buttons -->
    <div class="flex flex-col md:flex-row gap-4 animate-fade-in-up-delay-2">
      <a href="/explore" class="modern-btn primary text-lg px-8 py-4">
        <span class="flex items-center gap-2">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
          </svg>
          Explore Our Collection
        </span>
      </a>
      <a href="/contact" class="modern-btn secondary text-lg px-8 py-4">
        <span class="flex items-center gap-2">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
          </svg>
          Get Quote
        </span>
      </a>
    </div>
  </div>
  
  <!-- Scroll Indicator -->
  <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 z-10 animate-bounce">
    <div class="w-6 h-10 border-2 border-gray-900 rounded-full flex justify-center">
      <div class="w-1 h-3 bg-gray-900 rounded-full mt-2 animate-pulse"></div>
    </div>
  </div>
</section>

<!-- Animated Statistics Section -->
<section class="py-20 bg-gradient-to-b from-white to-gray-50 relative overflow-hidden">
  <div class="container mx-auto px-4 relative z-10">
    <h2 class="text-4xl md:text-5xl font-bold text-center mb-16 text-gray-900">Our Achievements</h2>
    <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
      <div class="text-center reveal">
        <div class="text-5xl md:text-6xl font-black text-gray-900 mb-2 counter" data-target="500">100+</div>
        <div class="text-lg text-gray-600 font-medium">Projects Completed</div>
        <div class="w-16 h-1 bg-gray-900 mx-auto mt-4 transform transition-all duration-300 hover:w-24"></div>
      </div>
      <div class="text-center reveal">
        <div class="text-5xl md:text-6xl font-black text-gray-900 mb-2 counter" data-target="100">50+</div>
        <div class="text-lg text-gray-600 font-medium">Granite Varieties</div>
        <div class="w-16 h-1 bg-gray-900 mx-auto mt-4 transform transition-all duration-300 hover:w-24"></div>
      </div>
      <div class="text-center reveal">
        <div class="text-5xl md:text-6xl font-black text-gray-900 mb-2 counter" data-target="50">15+</div>
        <div class="text-lg text-gray-600 font-medium">Years Experience</div>
        <div class="w-16 h-1 bg-gray-900 mx-auto mt-4 transform transition-all duration-300 hover:w-24"></div>
      </div>
      <div class="text-center reveal">
        <div class="text-5xl md:text-6xl font-black text-gray-900 mb-2 counter" data-target="1000">50+</div>
        <div class="text-lg text-gray-600 font-medium">Experienced Team</div>
        <div class="w-16 h-1 bg-gray-900 mx-auto mt-4 transform transition-all duration-300 hover:w-24"></div>
      </div>
    </div>
  </div>
</section>

<!-- Featured Granite Collection -->
<section class="py-20 bg-white">
  <div class="container mx-auto px-4">
    <div class="text-center mb-16">
      <h2 class="text-4xl md:text-5xl font-bold mb-4 text-gray-900 animate-fade-in-up">Featured Granite Collection</h2>
      <p class="text-xl text-gray-600 max-w-3xl mx-auto animate-fade-in-up-delay">
        Discover our handpicked selection of premium granite varieties, each piece carefully selected for its unique beauty and exceptional quality
      </p>
    </div>
    
    <!-- Collection Categories -->
    <div class="flex flex-wrap justify-center gap-4 mb-12 animate-fade-in-up-delay-2">
      <button class="collection-filter-modern active" data-filter="all">All Collections</button>
      <button class="collection-filter-modern" data-filter="gold">Gold Collection</button>
      <button class="collection-filter-modern" data-filter="pink">Pink Collection</button>
      <button class="collection-filter-modern" data-filter="white">White Collection</button>
      <button class="collection-filter-modern" data-filter="premium">Premium Series</button>
    </div>
    
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="featured-gallery">
      {% for item in featured %}
      <div class="product-card reveal collection-item" 
           data-category="{{ item.category.lower().replace(' collection', '') }}"
           onclick="showProductModal('{{ item.title }}', '{{ item.image }}', '{{ item.description }}')">
        <div class="relative overflow-hidden rounded-lg">
          <img src="{{ item.image }}" class="w-full h-64 object-cover transition-transform duration-700 group-hover:scale-110" alt="{{ item.title }}">
          <div class="absolute top-4 right-4 bg-white/90 backdrop-blur-sm text-gray-900 px-3 py-1 rounded-full text-xs font-bold">
            {{ item.category }}
          </div>
          <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end">
            <div class="p-6 text-white transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300">
              <p class="text-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300 delay-100">{{ item.description }}</p>
            </div>
          </div>
        </div>
        <div class="mt-4">
          <h3 class="text-xl font-bold text-gray-900 mb-2">{{ item.title }}</h3>
          <p class="text-sm text-gray-600 mb-4 line-clamp-2">{{ item.description }}</p>
          <button class="modern-btn secondary w-full text-sm">View Details</button>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<!-- Product Modal -->
<div id="product-modal" class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 hidden">
  <div class="bg-white rounded-2xl shadow-2xl max-w-lg w-full p-8 relative m-4 transform scale-95 modal-content">
    <button onclick="closeProductModal()" class="absolute top-4 right-4 text-2xl text-gray-400 hover:text-gray-900 transition-colors">&times;</button>
    <img id="modal-img" src="" class="w-full h-64 object-cover rounded-lg mb-6" alt="Product image">
    <h2 id="modal-title" class="text-2xl font-bold text-gray-900 mb-3"></h2>
    <p id="modal-desc" class="mb-6 text-gray-600"></p>
    <div class="flex gap-3">
      <button class="modern-btn primary flex-1">Get Quote</button>
      <a href="/contact" class="modern-btn secondary flex-1 text-center">Contact Us</a>
    </div>
  </div>
</div>

<!-- Testimonials -->
<section class="py-20 bg-gradient-to-b from-gray-50 to-white">
  <div class="container mx-auto px-4">
    <div class="text-center mb-16">
      <h2 class="text-4xl md:text-5xl font-bold mb-4 text-gray-900 animate-fade-in-up">What Our Clients Say</h2>
      <p class="text-xl text-gray-600 max-w-3xl mx-auto animate-fade-in-up-delay">
        Don't just take our word for it - hear from our satisfied customers who have transformed their spaces with our premium granite
      </p>
    </div>
    
    <!-- Testimonial Carousel -->
    <div class="relative">
      <div class="testimonial-carousel overflow-hidden rounded-2xl">
        <div class="flex transition-transform duration-500 ease-in-out" id="testimonial-slider">
          {% for t in testimonials %}
          <div class="w-full md:w-1/2 lg:w-1/3 px-4 testimonial-slide">
            <div class="bg-white p-8 rounded-2xl shadow-lg h-full group hover:shadow-xl transition-all duration-300 border border-gray-100">
              <div class="flex items-center mb-4">
                <div class="flex text-yellow-400">
                  {% for i in range(t.rating) %}
                    <span class="text-lg">‚≠ê</span>
                  {% endfor %}
                </div>
                <div class="ml-2 text-sm text-gray-500">{{ t.rating }}/5</div>
              </div>
              <p class="italic text-gray-700 mb-6 leading-relaxed">"{{ t.text }}"</p>
              <div class="flex items-center">
                <div class="w-12 h-12 bg-gradient-to-br from-gray-900 to-gray-700 rounded-full flex items-center justify-center text-white font-bold text-lg mr-4">
                  {{ t.author[0] }}
                </div>
                <div>
                  <div class="font-bold text-gray-900">{{ t.author }}</div>
                  <div class="text-sm text-gray-500">Verified Customer</div>
                </div>
              </div>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
      
      <!-- Carousel Controls -->
      <button class="absolute left-4 top-1/2 transform -translate-y-1/2 bg-white shadow-lg rounded-full p-3 hover:bg-gray-100 transition-colors duration-300" onclick="previousTestimonial()">
        <svg class="w-6 h-6 text-gray-900" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
        </svg>
      </button>
      <button class="absolute right-4 top-1/2 transform -translate-y-1/2 bg-white shadow-lg rounded-full p-3 hover:bg-gray-100 transition-colors duration-300" onclick="nextTestimonial()">
        <svg class="w-6 h-6 text-gray-900" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
        </svg>
      </button>
    </div>
    
    <!-- Testimonial Stats -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-8 mt-16">
      <div class="text-center reveal">
        <div class="text-4xl font-black text-gray-900 mb-2">4.9</div>
        <div class="text-sm text-gray-600">Average Rating</div>
      </div>
      <div class="text-center reveal">
        <div class="text-4xl font-black text-gray-900 mb-2">500+</div>
        <div class="text-sm text-gray-600">Happy Customers</div>
      </div>
      <div class="text-center reveal">
        <div class="text-4xl font-black text-gray-900 mb-2">98%</div>
        <div class="text-sm text-gray-600">Satisfaction Rate</div>
      </div>
      <div class="text-center reveal">
        <div class="text-4xl font-black text-gray-900 mb-2">15+</div>
        <div class="text-sm text-gray-600">Years Experience</div>
      </div>
    </div>
    
    <!-- Recent Reviews from Database -->
    {% if recent_reviews %}
    <div class="mt-20">
      <h3 class="text-3xl font-bold mb-12 text-center text-gray-900">Recent Customer Reviews</h3>
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        {% for review in recent_reviews %}
        <div class="bg-white p-6 rounded-2xl shadow-lg reveal group hover:shadow-xl transition-all duration-300 border border-gray-100">
          <div class="flex text-yellow-400 mb-3">
            {% for i in range(review[1]) %}
              <span class="text-lg">‚≠ê</span>
            {% endfor %}
          </div>
          <p class="text-gray-600 mb-4">"{{ review[2] }}"</p>
          <div class="flex items-center">
            <div class="w-10 h-10 bg-gradient-to-br from-gray-900 to-gray-700 rounded-full flex items-center justify-center text-white font-bold mr-3">
              {{ review[0][0] }}
            </div>
            <div>
              <div class="font-semibold text-gray-900">{{ review[0] }}</div>
              <div class="text-sm text-gray-500">{{ review[3] }}</div>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
    {% endif %}
  </div>
</section>

<!-- Interactive Gallery Section -->
<section class="py-20 bg-white">
  <div class="container mx-auto px-4">
    <h2 class="text-4xl md:text-5xl font-bold mb-12 text-center text-gray-900 reveal">Our Granite Gallery</h2>
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
      {% for item in featured %}
      <div class="gallery-item group cursor-pointer reveal" onclick="openLightbox('{{ item.image }}', '{{ item.title }}', '{{ item.description }}')">
        <div class="relative overflow-hidden rounded-lg shadow-lg">
          <img src="{{ item.image }}" class="w-full h-48 object-cover transition-transform duration-700 group-hover:scale-125" alt="{{ item.title }}">
          <div class="absolute inset-0 bg-black/0 group-hover:bg-black/50 transition-all duration-300 flex items-center justify-center">
            <div class="text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300 text-center">
              <svg class="w-8 h-8 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
              </svg>
              <p class="text-sm font-semibold">View Details</p>
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<!-- Lightbox Modal -->
<div id="lightbox" class="fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-50 hidden">
  <div class="relative max-w-4xl max-h-[90vh] p-4">
    <button onclick="closeLightbox()" class="absolute top-4 right-4 text-white text-4xl hover:text-gray-300 transition-colors duration-300 z-10">
      &times;
    </button>
    <img id="lightbox-img" src="" class="max-w-full max-h-[70vh] object-contain rounded-lg" alt="Gallery image">
    <div class="text-center mt-4">
      <h3 id="lightbox-title" class="text-2xl font-bold text-white mb-2"></h3>
      <p id="lightbox-desc" class="text-gray-300"></p>
    </div>
  </div>
</div>

<!-- Our Process -->
<section class="py-20 bg-gray-50">
  <div class="container mx-auto px-4">
    <div class="text-center mb-16">
      <h2 class="text-4xl md:text-5xl font-bold mb-6 text-gray-900">How We Work</h2>
      <p class="text-xl text-gray-600 max-w-3xl mx-auto">
        Our proven 6-step process ensures you get the perfect granite for your project, from initial consultation to final installation
      </p>
    </div>
    
    <!-- Process Steps -->
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
      <div class="process-step-modern reveal group">
        <div class="relative mb-6">
          <div class="w-20 h-20 bg-gray-900 rounded-full flex items-center justify-center text-3xl text-white mb-6 group-hover:scale-110 transition-transform duration-300">
            ‚õèÔ∏è
          </div>
          <div class="absolute -top-2 -right-2 w-8 h-8 bg-gray-900 rounded-full flex items-center justify-center text-white font-bold text-sm">
            1
          </div>
        </div>
        <h3 class="text-2xl font-bold mb-4 text-gray-900">Sourcing & Selection</h3>
        <p class="text-gray-600 mb-4">We personally visit quarries across India to select the finest granite blocks. Our experts evaluate each stone for quality, color consistency, and structural integrity.</p>
        <ul class="text-sm text-gray-500 space-y-1">
          <li>‚Ä¢ Direct quarry partnerships</li>
          <li>‚Ä¢ Quality inspection at source</li>
          <li>‚Ä¢ Premium block selection</li>
        </ul>
      </div>
      
      <div class="process-step-modern reveal group">
        <div class="relative mb-6">
          <div class="w-20 h-20 bg-gray-900 rounded-full flex items-center justify-center text-3xl text-white mb-6 group-hover:scale-110 transition-transform duration-300">
            üî¨
          </div>
          <div class="absolute -top-2 -right-2 w-8 h-8 bg-gray-900 rounded-full flex items-center justify-center text-white font-bold text-sm">
            2
          </div>
        </div>
        <h3 class="text-2xl font-bold mb-4 text-gray-900">Quality Testing</h3>
        <p class="text-gray-600 mb-4">Every granite block undergoes rigorous testing for hardness, water absorption, and chemical resistance to ensure it meets international standards.</p>
        <ul class="text-sm text-gray-500 space-y-1">
          <li>‚Ä¢ Hardness testing (Mohs scale)</li>
          <li>‚Ä¢ Water absorption tests</li>
          <li>‚Ä¢ Chemical resistance checks</li>
        </ul>
      </div>
      
      <div class="process-step-modern reveal group">
        <div class="relative mb-6">
          <div class="w-20 h-20 bg-gray-900 rounded-full flex items-center justify-center text-3xl text-white mb-6 group-hover:scale-110 transition-transform duration-300">
            ‚öôÔ∏è
          </div>
          <div class="absolute -top-2 -right-2 w-8 h-8 bg-gray-900 rounded-full flex items-center justify-center text-white font-bold text-sm">
            3
          </div>
        </div>
        <h3 class="text-2xl font-bold mb-4 text-gray-900">Precision Processing</h3>
        <p class="text-gray-600 mb-4">Using state-of-the-art Italian machinery, we cut and polish each slab to perfection. Our skilled craftsmen ensure consistent thickness and flawless finish.</p>
        <ul class="text-sm text-gray-500 space-y-1">
          <li>‚Ä¢ Italian cutting technology</li>
          <li>‚Ä¢ Precision calibration</li>
          <li>‚Ä¢ Multiple finish options</li>
        </ul>
      </div>
      
      <div class="process-step-modern reveal group">
        <div class="relative mb-6">
          <div class="w-20 h-20 bg-gray-900 rounded-full flex items-center justify-center text-3xl text-white mb-6 group-hover:scale-110 transition-transform duration-300">
            üé®
          </div>
          <div class="absolute -top-2 -right-2 w-8 h-8 bg-gray-900 rounded-full flex items-center justify-center text-white font-bold text-sm">
            4
          </div>
        </div>
        <h3 class="text-2xl font-bold mb-4 text-gray-900">Custom Design</h3>
        <p class="text-gray-600 mb-4">Our design team works with you to create custom solutions. We provide 3D visualizations and material samples to help you make the perfect choice.</p>
        <ul class="text-sm text-gray-500 space-y-1">
          <li>‚Ä¢ 3D design visualization</li>
          <li>‚Ä¢ Material samples</li>
          <li>‚Ä¢ Custom sizing options</li>
        </ul>
      </div>
      
      <div class="process-step-modern reveal group">
        <div class="relative mb-6">
          <div class="w-20 h-20 bg-gray-900 rounded-full flex items-center justify-center text-3xl text-white mb-6 group-hover:scale-110 transition-transform duration-300">
            ‚úÖ
          </div>
          <div class="absolute -top-2 -right-2 w-8 h-8 bg-gray-900 rounded-full flex items-center justify-center text-white font-bold text-sm">
            5
          </div>
        </div>
        <h3 class="text-2xl font-bold mb-4 text-gray-900">Quality Assurance</h3>
        <p class="text-gray-600 mb-4">Before dispatch, every piece undergoes final inspection. We check for any defects, ensure proper packaging, and prepare detailed documentation.</p>
        <ul class="text-sm text-gray-500 space-y-1">
          <li>‚Ä¢ Final quality inspection</li>
          <li>‚Ä¢ Secure packaging</li>
          <li>‚Ä¢ Quality certificates</li>
        </ul>
      </div>
      
      <div class="process-step-modern reveal group">
        <div class="relative mb-6">
          <div class="w-20 h-20 bg-gray-900 rounded-full flex items-center justify-center text-3xl text-white mb-6 group-hover:scale-110 transition-transform duration-300">
            üöö
          </div>
          <div class="absolute -top-2 -right-2 w-8 h-8 bg-gray-900 rounded-full flex items-center justify-center text-white font-bold text-sm">
            6
          </div>
        </div>
        <h3 class="text-2xl font-bold mb-4 text-gray-900">Delivery & Installation</h3>
        <p class="text-gray-600 mb-4">We handle safe transportation and can provide professional installation services. Our team ensures your granite is delivered on time and installed perfectly.</p>
        <ul class="text-sm text-gray-500 space-y-1">
          <li>‚Ä¢ Safe transportation</li>
          <li>‚Ä¢ Professional installation</li>
          <li>‚Ä¢ Post-installation support</li>
        </ul>
      </div>
    </div>
    
    <!-- Process Timeline -->
    <div class="mt-16 bg-white rounded-2xl p-8 shadow-lg reveal border border-gray-100">
      <h3 class="text-2xl font-bold text-center mb-8 text-gray-900">Project Timeline</h3>
      <div class="grid md:grid-cols-4 gap-6 text-center">
        <div class="timeline-item-modern">
          <div class="text-3xl font-black text-gray-900 mb-2">1-2 Days</div>
          <div class="text-sm text-gray-600">Consultation & Design</div>
        </div>
        <div class="timeline-item-modern">
          <div class="text-3xl font-black text-gray-900 mb-2">3-5 Days</div>
          <div class="text-sm text-gray-600">Processing & Cutting</div>
        </div>
        <div class="timeline-item-modern">
          <div class="text-3xl font-black text-gray-900 mb-2">1-2 Days</div>
          <div class="text-sm text-gray-600">Quality Check</div>
        </div>
        <div class="timeline-item-modern">
          <div class="text-3xl font-black text-gray-900 mb-2">1-3 Days</div>
          <div class="text-sm text-gray-600">Delivery & Installation</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Back to Top Button -->
<button onclick="window.scrollTo({top:0,behavior:'smooth'})" class="fixed bottom-6 right-6 modern-btn primary shadow-2xl z-50 rounded-full w-14 h-14 flex items-center justify-center">
  <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
  </svg>
</button>

<script>
// Initialize Spline 3D Scene
function initSpline() {
  // To use Spline 3D:
  // 1. Create a scene at https://spline.design
  // 2. Publish your scene
  // 3. Copy the embed URL and paste it below
  // 4. Example: https://my.spline.design/untitled-scene-abc123/
  const splineUrl = ''; // Add your Spline scene URL here
  
  if (splineUrl) {
    const iframe = document.getElementById('spline-container');
    iframe.src = splineUrl;
  } else {
    // Hide iframe if no URL provided
    document.getElementById('spline-container').style.display = 'none';
  }
}

// Product Modal Functions
function showProductModal(title, image, description) {
    document.getElementById('modal-title').textContent = title;
    document.getElementById('modal-img').src = image;
    document.getElementById('modal-desc').textContent = description;
    const modal = document.getElementById('product-modal');
    modal.classList.remove('hidden');
    document.body.style.overflow = 'hidden';
    setTimeout(() => {
      document.querySelector('.modal-content').style.transform = 'scale(1)';
    }, 10);
}

function closeProductModal() {
    const modal = document.getElementById('product-modal');
    document.querySelector('.modal-content').style.transform = 'scale(0.95)';
    setTimeout(() => {
      modal.classList.add('hidden');
      document.body.style.overflow = 'auto';
    }, 200);
}

// Lightbox Functions
function openLightbox(imageSrc, title, description) {
    document.getElementById('lightbox-img').src = imageSrc;
    document.getElementById('lightbox-title').textContent = title;
    document.getElementById('lightbox-desc').textContent = description;
    const lightbox = document.getElementById('lightbox');
    lightbox.classList.remove('hidden');
    document.body.style.overflow = 'hidden';
}

function closeLightbox() {
    const lightbox = document.getElementById('lightbox');
    lightbox.classList.add('hidden');
    document.body.style.overflow = 'auto';
}

// Close modal when clicking outside
document.getElementById('product-modal').addEventListener('click', function(e) {
    if (e.target === this) {
        closeProductModal();
    }
});

// Close lightbox when clicking outside
document.getElementById('lightbox').addEventListener('click', function(e) {
    if (e.target === this) {
        closeLightbox();
    }
});

// Close lightbox with Escape key
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        closeProductModal();
        closeLightbox();
    }
});

// Counter Animation
function animateCounters() {
    const counters = document.querySelectorAll('.counter');
    counters.forEach(counter => {
        const target = parseInt(counter.getAttribute('data-target'));
        const duration = 2000;
        const increment = target / (duration / 16);
        let current = 0;
        
        const timer = setInterval(() => {
            current += increment;
            if (current >= target) {
                current = target;
                clearInterval(timer);
            }
            counter.textContent = Math.floor(current) + '+';
        }, 16);
    });
}

// Scroll Reveal Animation
function initScrollReveal() {
    const reveals = document.querySelectorAll('.reveal');
    const revealObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('active');
                
                if (entry.target.querySelector('.counter')) {
                    animateCounters();
                }
            }
        });
    }, {
        threshold: 0.1
    });
    
    reveals.forEach(reveal => {
        revealObserver.observe(reveal);
    });
}

// Initialize all animations
document.addEventListener('DOMContentLoaded', function() {
    initScrollReveal();
    initSpline();
    
    // Initialize collection filters
    initCollectionFilters();
    
    // Initialize testimonial carousel
    initTestimonialCarousel();
});

// Collection Filter Functionality
function initCollectionFilters() {
    const filterButtons = document.querySelectorAll('.collection-filter-modern');
    const collectionItems = document.querySelectorAll('.collection-item');
    
    filterButtons.forEach(button => {
        button.addEventListener('click', function() {
            filterButtons.forEach(btn => btn.classList.remove('active'));
            this.classList.add('active');
            
            const filter = this.getAttribute('data-filter');
            
            collectionItems.forEach(item => {
                if (filter === 'all' || item.getAttribute('data-category').includes(filter)) {
                    item.style.display = 'block';
                    item.style.animation = 'fadeInUp 0.5s ease-out';
                } else {
                    item.style.display = 'none';
                }
            });
        });
    });
}

// Testimonial Carousel Functionality
let currentTestimonial = 0;
const testimonialsPerView = window.innerWidth < 768 ? 1 : window.innerWidth < 1024 ? 2 : 3;

function initTestimonialCarousel() {
    const slider = document.getElementById('testimonial-slider');
    const slides = document.querySelectorAll('.testimonial-slide');
    const totalSlides = slides.length;
    
    if (totalSlides === 0) return;
    
    function updateSlider() {
        const translateX = -currentTestimonial * (100 / testimonialsPerView);
        slider.style.transform = `translateX(${translateX}%)`;
    }
    
    updateSlider();
    
    setInterval(() => {
        currentTestimonial = (currentTestimonial + 1) % Math.max(1, totalSlides - testimonialsPerView + 1);
        updateSlider();
    }, 5000);
}

function nextTestimonial() {
    const slides = document.querySelectorAll('.testimonial-slide');
    const totalSlides = slides.length;
    const maxSlide = Math.max(0, totalSlides - testimonialsPerView);
    
    currentTestimonial = Math.min(currentTestimonial + 1, maxSlide);
    initTestimonialCarousel();
}

function previousTestimonial() {
    currentTestimonial = Math.max(currentTestimonial - 1, 0);
    initTestimonialCarousel();
}
</script>
{% endblock %}
